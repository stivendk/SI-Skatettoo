<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <body>
        <ui:composition template="./../../WEB-INF/templates/skatettoo.xhtml">
            <ui:define name="head2">
                <h:outputStylesheet name="css/sucurv.css" />
                <h:outputStylesheet  name="css/datepicker.min.css"/>
                <h:outputScript name="js/datepicker.min.js" />
                <h:outputScript name="js/datepicker.es.js" />
            </ui:define>
            <ui:define name="titulo">
                #{panelSucursalManagedBean.sucu.nombre} | Skatettoo
            </ui:define>
            <ui:define name="top2"></ui:define>
            <ui:define name="content">
                <div class="contenido-izquierda">
                    <div class="contenido-sucursal-header">
                        <img alt="Mert Salih Kaplan" src="../../img/#{panelSucursalManagedBean.sucu.fotoSuc}.jpg" class="avatar-sucursal"/>
                    </div>
                    <div class="contenido-sucursal listatatuadoressucursal">
                        <div class="info-sucursal">
                            <h1>#{panelSucursalManagedBean.sucu.nombre}</h1>
                            <p>#{panelSucursalManagedBean.sucu.direccion}</p>
                            <p>#{panelSucursalManagedBean.sucu.telefono}</p>
                            <p>#{panelSucursalManagedBean.sucu.descripcion}</p>
                            <h2>Tatuadores</h2>
                        </div>
                        <div class="sucursal-tattooist">
                            <h:form>
                                <ul id="display-inline-block-example">
                                    <ui:repeat value="#{panelSucursalManagedBean.tattuadoresSurcursal()}" var="item">
                                        <li>
                                            <h:graphicImage class="avatar-tatuador">
                                                <f:ajax event="click" listener="#{panelSucursalManagedBean.seleccionarTatt(item)}" render="disenios"/>
                                            </h:graphicImage>
                                            <span>#{item.nombre} #{item.apellido}</span></li>
                                    </ui:repeat>
                                </ul>
                            </h:form>
                        </div>
                    </div>
                    <div id="listadisenios">
                        <span class="tatuador-link">X</span>
                        <f:view>

                            <h:commandButton pt:data-toggle="modal" pt:data-target=".pop-up-1"/>
                            <h:form id="disenios">
                                <h1><h:outputText value="List"/></h1>
                                <h:dataTable value="#{panelSucursalManagedBean.listUsSucu()}" var="dis">
                                    <h:column>
                                        <f:facet name="header">
                                            <h:outputText value="NombreD"/>
                                        </f:facet>
                                        <h:outputText value="#{dis.nombreD}"/>
                                    </h:column>
                                    <h:column>
                                        <f:facet name="header">
                                            <h:outputText value="NombreDisenio"/>
                                        </f:facet>
                                        <h:outputText value="#{dis.nombreDisenio}"/>
                                    </h:column>
                                    <h:column>
                                        <f:facet name="header">
                                            <h:outputText value="SesionesRecomendadas"/>
                                        </f:facet>
                                        <h:outputText value="#{dis.sesionesRecomendadas}"/>
                                    </h:column>
                                    <h:column>
                                        <f:facet name="header">
                                            <h:outputText value="PrecioDisenio"/>
                                        </f:facet>
                                        <h:outputText value="#{dis.precioDisenio}"/>
                                    </h:column>
                                    <h:column>
                                        <f:facet name="header">
                                            <h:outputText value="Anotaciones"/>
                                        </f:facet>
                                        <h:outputText value="#{dis.anotaciones}"/>
                                    </h:column>
                                    <h:column>
                                        <f:facet name="header">
                                            <h:outputText value="IdEstiloDisenio"/>
                                        </f:facet>
                                        <h:outputText value="#{dis.idEstiloDisenio.nombreEstilo}"/>
                                    </h:column>
                                </h:dataTable>
                            </h:form>
                        </f:view>

                    </div>
                    <script>
                        $('.tatuador-link').on('click', function () {
                            $("html, body").animate({scrollTop: $('#listadisenios').offset().top}, 700);
                        });
                    </script>
                </div>
                <div class="modal fade pop-up-1" id="squarespaceModal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">Ã—</span><span class="sr-only">Close</span></button>
                                <h3 class="modal-title" id="lineModalLabel">My Modal</h3>
                            </div>
                            <div class="modal-body">

                                <!-- content goes here -->
                                <h:form>
                                    <div class="form-group">
                                        <h:outputLabel class="col-md-3 control-label" value="Fecha Hora:" for="fechaHora" />
                                        <div class="col-md-9">
                                            <h:inputText pt:data-language='es' pt:data-time-format='hh:ii:00' pt:data-timepicker="true" class="da form-control" id="fechaHora" style="z-index: 1" pt:placeholder="dd/mm/yyyy hh:mm:ss" value="#{citaManagedBean.cita.fechaHora}" title="FechaHora" required="true" requiredMessage="The FechaHora field is required.">
                                                <f:convertDateTime pattern="dd/mm/yyyy hh:mm:ss" />
                                            </h:inputText>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="exampleInputFile">File input</label>
                                        <input type="file" id="exampleInputFile"/>
                                        <p class="help-block">Example block-level help text here.</p>
                                    </div>
                                    
                                    <div class="form-group">
                                        <h:outputLabel class="col-md-3 control-label" value="Descripcion:" for="descripcion" />
                                        <div class="col-md-9">
                                            <h:inputTextarea pt:placeholder="Escribe los detalles de la cita" class="form-control" rows="10" cols="30" id="descripcion" value="#{citaManagedBean.cita.descripcion}" title="Descripcion" required="true" requiredMessage="The Descripcion field is required."/>
                                        </div>
                                    </div>

                                    <script>
                                        var disabledDays = [0];
                                        $("#fechaHora").datepicker({
                                            dateFormat: 'dd/mm/yyyy',
                                            timeFormat: 'hh:ii ',
                                            onRenderCell: function (date, cellType) {
                                                if (cellType == 'day') {
                                                    var day = date.getDay(),
                                                            isDisabled = disabledDays.indexOf(day) != -1;

                                                    return {
                                                        disabled: isDisabled
                                                    }
                                                }
                                            }
                                        });
                                    </script>
                                </h:form>
                                <div class="modal-footer">
                                    <div class="btn-group btn-group-justified" role="group" aria-label="group button">
                                        <div class="btn-group" role="group">
                                            <button type="button" class="btn btn-default" data-dismiss="modal"  role="button">Close</button>
                                        </div>
                                        <div class="btn-group btn-delete hidden" role="group">
                                            <button type="button" id="delImage" class="btn btn-danger btn-hover-red" data-dismiss="modal"  role="button">Delete</button>
                                        </div>
                                        <div class="btn-group" role="group">
                                            <button type="button" id="saveImage" class="btn btn-success btn-hover-green" jsf:actionListener="#{citaManagedBean.solicitarCita()}" role="button">Enviar</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </ui:define>

        </ui:composition>
    </body>
</html>

